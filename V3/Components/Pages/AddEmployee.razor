@page "/add-employee"

<PageTitle>Add employee</PageTitle>
    <RadzenColumn SizeMD=12>
        <RadzenAlert Shade="Shade.Lighter" Variant="Variant.Flat" Size="AlertSize.Small" AlertStyle="AlertStyle.Danger" Visible="@errorVisible">Cannot save employee</RadzenAlert>
        <RadzenTemplateForm TItem="PalyavalsztoV3.Models.main.employee" Data="@employee" Visible="@(employee != null)" Submit="@FormSubmit">
            <RadzenRow style="margin-bottom: 1rem">
                <RadzenColumn SizeMD="3">
                    <RadzenLabel Text="employer" Component="employer" style="width: 100%" />
                </RadzenColumn>
                <RadzenColumn SizeMD="9">
                    <RadzenDropDownDataGrid Data="@employersForEmployeeId" TextProperty="Name" ValueProperty="id" AllowClear=true
                        Disabled=@(hasEmployeeIdValue) Placeholder="Choose employer" style="display: block; width: 100%" @bind-Value="@employee.EmployeeId" Name="EmployeeId"
                           />
                </RadzenColumn>
            </RadzenRow>
            <RadzenRow style="margin-bottom: 1rem">
                <RadzenColumn SizeMD="3">
                    <RadzenLabel Text="userrole" Component="userrole" style="width: 100%" />
                </RadzenColumn>
                <RadzenColumn SizeMD="9">
                    <RadzenDropDownDataGrid Data="@userrolesForEmployeeId" TextProperty="" ValueProperty="UserId" AllowClear=true
                        Disabled=@(hasEmployeeIdValue) Placeholder="Choose userrole" style="display: block; width: 100%" @bind-Value="@employee.EmployeeId" Name="EmployeeId"
                           />
                </RadzenColumn>
            </RadzenRow>
            <RadzenRow style="margin-bottom: 1rem">
                <RadzenColumn SizeMD="3">
                    <RadzenLabel Text="adminrole" Component="adminrole" style="width: 100%" />
                </RadzenColumn>
                <RadzenColumn SizeMD="9">
                    <RadzenDropDownDataGrid Data="@adminrolesForEmployeeId" TextProperty="" ValueProperty="UserId" AllowClear=true
                        Disabled=@(hasEmployeeIdValue) Placeholder="Choose adminrole" style="display: block; width: 100%" @bind-Value="@employee.EmployeeId" Name="EmployeeId"
                           />
                </RadzenColumn>
            </RadzenRow>
            <RadzenRow style="margin-bottom: 1rem">
                <RadzenColumn SizeMD="3">
                    <RadzenLabel Text="Name" Component="Name" style="width: 100%" />
                </RadzenColumn>
                <RadzenColumn SizeMD="9">
                    <RadzenTextBox style="display: block; width: 100%" @bind-Value="@employee.Name" Name="Name" />
                    <RadzenRequiredValidator Component="Name" Text="Name is required" />
                </RadzenColumn>
            </RadzenRow>
            <RadzenRow style="margin-bottom: 1rem">
                <RadzenColumn SizeMD="3">
                    <RadzenLabel Text="Skills" Component="Skills" style="width: 100%" />
                </RadzenColumn>
                <RadzenColumn SizeMD="9">
                    <RadzenTextBox style="display: block; width: 100%" @bind-Value="@employee.Skills" Name="Skills" />
                    <RadzenRequiredValidator Component="Skills" Text="Skills is required" />
                </RadzenColumn>
            </RadzenRow>
            <RadzenRow style="margin-bottom: 1rem">
                <RadzenColumn SizeMD="3">
                    <RadzenLabel Text="Password Hash" Component="PasswordHash" style="width: 100%" />
                </RadzenColumn>
                <RadzenColumn SizeMD="9">
                    <RadzenTextBox style="display: block; width: 100%" @bind-Value="@employee.PasswordHash" Name="PasswordHash" />
                    <RadzenRequiredValidator Component="PasswordHash" Text="PasswordHash is required" />
                </RadzenColumn>
            </RadzenRow>
            <RadzenRow style="margin-bottom: 1rem">
                <RadzenColumn SizeMD="3">
                    <RadzenLabel Text="role" Component="role" style="width: 100%" />
                </RadzenColumn>
                <RadzenColumn SizeMD="9">
                    <RadzenDropDownDataGrid Data="@rolesForRoleId" TextProperty="RoleName" ValueProperty="RoleID" AllowClear=true
                        Disabled=@(hasRoleIdValue) Placeholder="Choose role" style="display: block; width: 100%" @bind-Value="@employee.RoleId" Name="RoleId"
                           />
                </RadzenColumn>
            </RadzenRow>
            <RadzenRow style="margin-bottom: 1rem">
                <RadzenColumn SizeMD="3">
                    <RadzenLabel Text="location" Component="location" style="width: 100%" />
                </RadzenColumn>
                <RadzenColumn SizeMD="9">
                    <RadzenDropDownDataGrid Data="@locationsForLocationId" TextProperty="Address" ValueProperty="LocationId" AllowClear=true
                        Disabled=@(hasLocationIdValue) Placeholder="Choose location" style="display: block; width: 100%" @bind-Value="@employee.LocationId" Name="LocationId"
                           />
                </RadzenColumn>
            </RadzenRow>
          <RadzenStack  Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" JustifyContent="JustifyContent.End" Gap="0.5rem">
                    <RadzenButton ButtonStyle="ButtonStyle.Primary" ButtonType="ButtonType.Submit" Icon="save" Text="Save" Variant="Variant.Flat" />
                    <RadzenButton ButtonStyle="ButtonStyle.Light" Text="Cancel" Variant="Variant.Flat" Click="@CancelButtonClick"  />
          </RadzenStack>
        </RadzenTemplateForm>
    </RadzenColumn>

